
!function () { "use strict"; const e = function (e) { if (null == e) return ""; var t = $.trim(e.toString()); return "" == t ? "" : t = (t = (t = (t = (t = (t = (t = (t = (t = (t = t.replace(/۰/g, 0)).replace(/۱/g, 1)).replace(/۲/g, 2)).replace(/۳/g, 3)).replace(/۴/g, 4)).replace(/۵/g, 5)).replace(/۶/g, 6)).replace(/۷/g, 7)).replace(/۸/g, 8)).replace(/۹/g, 9) }, t = function (e) { if (null == e) return ""; let t = $.trim(e.toString()); return "" == t ? "" : (t = t.replace(/0/g, "۰"), t = t.replace(/1/g, "۱"), t = t.replace(/2/g, "۲"), t = t.replace(/3/g, "۳"), t = t.replace(/4/g, "۴"), t = t.replace(/5/g, "۵"), t = t.replace(/6/g, "۶"), t = t.replace(/7/g, "۷"), t = t.replace(/8/g, "۸"), t = t.replace(/9/g, "۹"), t) }, s = function (e) { let t = e.val(); t = t.replace(/[\D\s\._\-]+/g, ""), t = t ? parseInt(t, 10) : "a", e.val((function () { return "a" === t ? "" : t.toLocaleString("en-US") })) }; $((function () { $(".en-number").each((function (t, s) { $(s).text(e($(s).text())) })), $(".fa-number").each((function (e, s) { $(s).text(t($(s).text())) })); let a = $(".exists-number-format"), n = a.find(".number-format"); n.length > 0 && (n.each((function (e, t) { s($(t)) })), n.on("keyup", (function (e) { "" === window.getSelection().toString() && -1 === $.inArray(e.keyCode, [38, 40, 37, 39]) && s($(this)) })), a.on("submit", (function () { let e = $(this).find(".number-format"), t = e.val().replace(/[^\d.]/g, ""); e.val(parseInt(t)) }))), $(document).on("change", ".en-number", (function (t) { $(this).text(e($(this).text())) })), $(document).on("change", ".fa-number", (function (e) { $(this).text(t($(this).text())) })), $(document).on("keyup", ".mobile, input.en-number, input[name=mobile]", (function (t) { $(this).val(e($(this).val())) })), $(document).on("change", ".mobile, input.en-number, input[name=mobile]", (function (t) { $(this).val(e($(this).val())) })) })); const a = function (e, t = "success", s = 7e3, a = "top-left") { $("body").append('<span class="response-wrapper toast-' + a + " " + t + ' active">' + e + "</span>"), setTimeout((function () { $("body > .response-wrapper").fadeOut(), $("body > .response-wrapper").remove() }), s) }, n = { handleAjaxForm: function (e) { if (e.form.find(".just-validate-error-field").length > 0) return !1; e.beforeFilesUpload((function () { let t = e.form.data("before-send"); t && window[t] && window[t]({ tag: e.form }), e.form.find("button:not([type=button]),[type=submit]").addClass("spinner-left") })), e.onFailedFileUpload((function (t) { e.form.find("button:not([type=button]),[type=submit]").removeClass("spinner-left"), e.form.find("input[type=file]").addClass("is-invalid"), e.form.find(".upload-progress").remove(), console.log(t), JSON.parse(t.response).message && a(JSON.parse(t.response).message, "danger") })), e.afterFileUpload((function () { })), e.onSuccess((function (t) { switch (e.form.find("button:not([type=button]),[type=submit]").removeClass("spinner-left"), e.form.find(".upload-progress").remove(), t.message && a(t.message), e.afterSuccessAction) { case "closure": let s = e.form.data("fn"); s && window[s] ? window[s]({ tag: e.form, response: t.data }) : alert("تابع پاس داده شده معتبر نمی باشد."); break; case "hide-modal": setTimeout((function () { e.form.closest(".modal").modal("hide") }), 1e3); break; case "hide-form": e.form.delay(1e3).slideUp(500); break; case "refresh": let a = window.location.href, o = e.form.find("input[name=backurl]").val(); n.isURL(o) && (a = o), t.data && t.data.backUrl && (a = t.data.backUrl), setTimeout((function () { a.includes("#") ? (location.replace(a), location.reload()) : location.replace(a) }), 700); break; case "reset": e.form.trigger("reset"), e.form.find(".ql-editor").html(""); break; case "replace": n.closeAllModals(), $(e.form.data("target")).css("opacity", 1).html(t.data.html); break; case "append": n.closeAllModals(), $(e.form.data("target")).css("opacity", 1).append(t.data.html); break; case "wizard": e.form.closest(".wizard-item").hide().fadeOut(); let i = $(e.form.attr("data-wizard")); i.trigger("reset"), i.hide().fadeIn().css("display", "-webkit-flex").css("display", "flex"), i.find("[data-jsc=countdown]").text(parseInt(i.find("[data-jsc=countdown]").data("start"))) }e.form.is("[data-echo]") && 1 === e.form.attr("data-echo") && console.log(t) })), e.onError((function (t) { switch (e.form.find("button:not([type=button]),[type=submit]").removeClass("spinner-left"), e.form.find(".upload-progress").remove(), e.reset(), e.form.data("after-success")) { case "wizard": if (!0 === e.form.data("stable")) break; e.form.closest(".wizard-item").hide().fadeOut(); let t = e.form.attr("data-wizard"); $(t).hide().fadeIn().css("display", "-webkit-flex").css("display", "flex"); break; case "replace": $(e.form.data("target")).css("opacity", 1) }let s = e.form.data("after-failed"); s && window[s] && window[s]({ tag: e.form, response: t.responseJSON ?? null }), t.responseJSON && 1 != e.form.data("without-toast") && (n.dumpErrors(t.responseJSON.message), e.form.is("[data-echo]") && 1 === e.form.attr("data-echo") && console.log(t.responseJSON)) })), e.submit() }, handleAjaxRequest: function (e) { let t = e.data("before-send"); t && window[t] && window[t]({ tag: e }); const s = JSON.parse(e.attr("data-ajax") ?? e.attr("data-ajax_request")), o = s.route, i = e.data("method") ?? "post", r = e.data("after-success"); if ("ajax-request-onChange" == e.data("jsc") || "ajax-request-onkeyup" == e.data("jsc")) { let t = e.attr("name"); s[t] = e.val() } let l = e.closest(e.data("target")); if (0 == l.length && (l = e.closest("form").find(e.data("target"))), 1 === e.data("confirm") && !confirm("آیا از انجام این مورد مطمئن هستید؟")) return !1; switch (r) { case "replace": case "append": if (0 === l.length && (l = $(e.data("target")), 0 === l.length)) return a("سلکتور تنظیم شده " + e.data("target") + " صحیح نمی باشد.", "danger"), !1; break; case "like": e.find(".message").addClass("message-motion"), e.find(".bubble").addClass("bubble-motion") }"true" !== e.attr("data-stable") && (e.css("opacity", .5), e.addClass("spinner-left")), s._token || (s._token = n.getCsrfToken()), $.ajax({ url: o, data: s, method: i, success: function (t) { switch (e.removeClass("spinner-left"), t.message && a(t.message), e.css("opacity", 1), r) { case "closure": let s = e.data("fn"); s && window[s] ? window[s]({ tag: e, response: t.data }) : alert("تابع پاس داده شده معتبر نمی باشد."); break; case "refresh": let a = window.location.href; e.data("backurl") && (a = e.data("backurl")), t.data.backUrl && (a = t.data.backUrl), setTimeout((function () { location.replace(a) }), 700); break; case "replace": l.html(t.data.html), l.trigger("change"), l.hasClass("modal") && "flex" != l.css("display") && l.trigger("open-modal"); break; case "append": l.append(t.data.html), l.trigger("change"); break; case "like": let n = e.find(".count"), o = n.data("count"); e.hasClass("active") ? (n.data("count", --o), n.text(o), e.removeClass("active")) : (n.data("count", ++o), n.text(o), e.addClass("active")), setTimeout((() => { e.find(".message").removeClass("message-motion"), e.find(".bubble").removeClass("bubble-motion"), l.html(t.data.html) }), 800); break; case "bookmark": e.hasClass("si-bookmark-plus-r") ? e.removeClass("si-bookmark-plus-r").addClass("si-bookmark-plus") : e.removeClass("si-bookmark-plus").addClass("si-bookmark-plus-r"); break; case "wizard": e.closest(".wizard-item").hide().fadeOut(); let i = $(e.attr("data-wizard")); i.trigger("reset"), i.hide().fadeIn().css("display", "-webkit-flex").css("display", "flex"), i.find("[data-jsc=countdown]").text(parseInt(i.find("[data-jsc=countdown]").data("start"))) }$.isFunction("select2") && $("select.select2").select2({ placeholder: "انتخاب کنید" }) }, error: function (t) { switch (l.css("opacity", 1), e.css("opacity", 1), e.data("after-success")) { case "wizard": if (!0 === e.data("stable")) break; e.closest(".wizard-item").hide().fadeOut(); let t = e.attr("data-wizard"); $(t).hide().fadeIn().css("display", "-webkit-flex").css("display", "flex") }let o = e.data("after-failed"); o && window[o] && window[o]({ tag: e, response: t.responseJSON.data }), t.responseJSON.data && null != t.responseJSON.data.backUrl && setTimeout((function () { location.replace(t.responseJSON.data.backUrl) }), 700), "replace" != s.action ? (t.responseJSON && n.dumpErrors(t.responseJSON.message), e.removeClass("spinner-left")) : a("خطایی در دریافت و رندر اطلاعات رخ داده است", "danger") } }) }, isURL: function (e) { return !!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$", "i").test(e) }, dumpErrors: function (e) { if (void 0 === e || null === e.message) a("مشکلی رخ داده است، لطفا مجددا تلاش کنید.", "danger"); else if (e.constructor === "text".constructor) a(e, "danger"); else if (e.constructor === {}.constructor) { Object.keys(e).map((t => [Number(t), e[t]])).forEach((function (e) { n.dumpErrors(e) })) } else e.constructor === [].constructor && e.forEach((function (e) { a(e, "danger") })) }, closeAllModals: function () { $("[data-jsc^=modal]").blur(), $(".modal").css("display", "none") }, closeNotStableModals: function () { $("[data-jsc^=modal]").blur(), $(".modal:not(.stable)").css("display", "none") }, closeAllFooters: function () { $(".list-row").removeClass("active"), $(".list-row .footer").hide().removeClass("active"), $(".list-row [data-jsc^=footer]").removeClass("active") }, closeAllDropdown: function () { $(".dropdown").removeClass("show") }, getCsrfToken: function () { return $("meta[name=_token]").attr("content") } }, o = { changeScreen: function (e, t) { let s = e.find(".media-gallery .screen img"); s.parent().addClass("spinner-center"), s.attr("src", t.data("img")), e.find(".thumbnails .item").removeClass("active"), t.parent().addClass("active") }, changedGalleryScreen: function (e) { $(e).parent().removeClass("spinner-center") } }; const i = function () { let e = $("input[name=otp]"); e.val(""), $("form input.jump-next-input").each((function (t, s) { s.value && e.val(e.val() + s.value) })) }; $((function () { $(document).on("keyup", ".jump-next-input", (function (e) { e.preventDefault(); let t = $(this), s = t.val(); if (e.shiftKey && 9 == e.keyCode) return t.val(""), void i(); if (8 == e.which) { let e = t.prev(".jump-next-input"); return e.length > 0 ? e.focus().val("") : t.prevUntil(".jump-next-input").prev(".jump-next-input").focus().val(""), void i() } if (!$.isNumeric(s)) return t.val(""), !1; let a = $(this).next(".jump-next-input"); a.length > 0 ? a.focus() : t.nextUntil(".jump-next-input").next(".jump-next-input").focus(), i(), 6 == $("input[name=otp]").val().length && t.parent().parent().parent().find("button.btn-submit").trigger("click") })), $(document).on("click", "[data-jsc=checked-all]", (function (e) { let t = $(this).parent().parent().parent().find("input[type=checkbox]"); 1 == this.checked ? t.prop("checked", !0) : t.prop("checked", !1), t.trigger("change") })), $(".input input, .input textarea").each((function () { let e = $(this); "" != e.val() && e.closest(".input").addClass("not_empty") })), $(document).on("focus", ".input input, .input textarea", (function () { $(this).closest(".input").addClass("focus") })), $(document).on("focusout", ".input input, .input textarea", (function () { let e = $(this); e.closest(".input").removeClass("focus"), "" == e.val() ? e.closest(".input").removeClass("not_empty") : e.closest(".input").addClass("not_empty") })), $(document).on("change", "[data-jsc=submit-onChange]", (function (e) { e.preventDefault(), $(this).trigger("submit") })), $("[name=title],[name=slug],[class^=datepicker],[type=color]").each((function (e, t) { $(t).attr("autocomplete", "off") })) })), $((function () { $(document).on("click", ".reload-coupon-code", (function () { $(this).parent().parent().find("input[name=label]").val(function (e, t = !1) { let s, a = ""; s = 1 == t ? "abcdefghijklmnopqrstuvwxyz" : "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"; const n = s.length; let o = 0; for (; o < e;)a += s.charAt(Math.floor(Math.random() * n)), o += 1; return a }(8)) })) })), $((function () { $(document).on("keyup", "#inpagesearch", (function (e) { if (keyword = $(this).val().toLowerCase(), $(".srbox, .srtext").removeClass("srmatch srhide"), $(".srcontext .srmsg").remove(), 0 == keyword.length) return !1; var t = 0; $(".srtext").each((function (e, s) { box = $(this).closest(".srbox"), $(this).html().toLowerCase().includes(keyword) ? ($(this).removeClass("srhide"), box.addClass("srmatch").removeClass("srhide"), t++) : ($(this).addClass("srhide"), box.is(".srmatch") || box.addClass("srhide")) })), t = toFaNumber(t), $(".srcontext").hasClass("msginputgroup") ? $("<div class='srmsg max-w-fit d-flex align-items-center ps-xxs'><span class='badge bg-primary-20 text-secondary h-fit py-1 px-xxs t-small fs-13'>" + t + " نتیجه</span></div>").appendTo(".srmsgparent") : 0 == t ? $("<p class='srmsg t-title text-secondary-60 text-end'>نتیجه ای برای این جستجو یافت نشد</p>").prependTo(".srcontext") : $("<p class='srmsg t-title text-secondary-60 text-end'>" + t + " نتیجه یافت شد.</p>").prependTo(".srcontext") })), $(document).on("click", ".search-box .search-btn", (function (e) { let t = $(this); window.outerWidth <= 991.98 && !t.closest(".search-box").hasClass("active") && (e.preventDefault(), t.closest(".search-box").addClass("active"), t.closest(".search-box").find("input").focus()) })), $(document).on("click", ".search-box .close-btn", (function () { $(this).closest(".search-box").removeClass("active") })) })); class r { constructor() { this.formData = new FormData, this.progressHandler = null, this.startHandler = null, this.finishHandler = null, this.successHandler = null, this.errorHandler = null, this.ajaxRequest = null } upload(e, t, s, a = {}) { const n = this; this.formData.append("file", t); let o = s.find("input[name=api_key]").val() ?? null, i = s.find("input[name=entity_type]").val() ?? null, r = s.find("input[name=entity_id]").val() ?? null; o && this.formData.append("api_key", o), i && this.formData.append("entity_type", i), r && this.formData.append("entity_id", r), this.ajaxRequest = $.ajax({ url: e, headers: a, type: "POST", data: n.formData, contentType: !1, processData: !1, crossDomain: !0, beforeSend: function (e) { e.withCredentials = !0 }, success: this.successHandler, error: this.errorHandler, xhr: function () { const e = new window.XMLHttpRequest; return e.upload && (e.upload.addEventListener("progress", n.progressHandler, !1), e.upload.addEventListener("load", n.finishHandler, !1), e.upload.addEventListener("loadstart", n.startHandler, !1)), e } }) } cancel() { this.ajaxRequest.abort() } } class l { constructor(e, t) { this.form = e, this.fileName = t, this.ID = this.generateID(), this.uploader = new r, this.onProgress = this.onProgress.bind(this), this.uploader.progressHandler = this.onProgress, this.progressBar = null, this.progressBarPercent = null } generateID() { return (Math.random() + 1).toString(36).substring(5) } generateProgressBar() { return `<div class="upload-progress ${this.fileName}"><div id="progress_bar_percent_${this.ID}" class="progress-percent"></div>\n        <div id="progress_bar_${this.ID}"  class="progress"><div class="progress-bar"></div></div></div>` } appendProgressBar() { this.form.find("input[name=" + this.fileName + "]").after(this.generateProgressBar()), this.progressBar = this.form.find(`#progress_bar_${this.ID} .progress-bar`), this.progressBarPercent = this.form.find(`#progress_bar_percent_${this.ID}`) } onStart(e) { this.uploader.startHandler = e } onFinish(e) { this.uploader.finishHandler = e } onProgress(e) { if (e.lengthComputable) { const t = Math.ceil(e.loaded / e.total * 100); this.updateProgressBar(t) } } onSuccess(e) { this.uploader.successHandler = e } onError(e) { this.uploader.errorHandler = e } updateProgressBar(e) { this.progressBar.css("width", `${e}%`), this.progressBarPercent.text(`${e}%`) } upload(e) { this.appendProgressBar(), this.uploader.upload(((e = null) => (e = e ?? $("link#storage_url").attr("href")) + "/process.php")(), e, this.form) } } class c { constructor(e) { this.form = e, this.afterSuccessAction = e.attr("data-after-success"), this.beforeFilesUploadHandler = null, this.afterFilesUploadHandler = null, this.onSuccessHandler = null, this.onErrorHandler = null, this.onFailedFileUploadHandler = null } async submit() { this.reset(), this.beforeFilesUploadHandler(); const e = await this.uploadFiles().then(null, this.onFailedFileUploadHandler); this.afterFilesUploadHandler(), await this.submitToServer(e) } selectedFiles() { const e = this.form.find('input[type="file"]'), t = {}; return Object.keys(e).forEach((function (s) { if (!isNaN(parseInt(s))) { e[s].files.length > 0 && (t[e[s].name] = e[s].files[0]) } })), t } reset() { } async uploadFiles() { const e = this, t = this.selectedFiles(); return 0 === Object.keys(t).length ? Promise.all([]) : Promise.all(Object.keys(t).map((function (s) { return new Promise((function (a, n) { const o = new l(e.form, s); o.onSuccess((function (e) { a({ name: s, response: JSON.stringify(e.data.data) }) })), o.onError((function (e) { n({ name: s, response: JSON.stringify(e.responseJSON.data) }) })), o.upload(t[s]) })) }))) } async submitToServer(e) { const t = new FormData(this.form[0]); if (void 0 === e) return; Object.values(e).forEach((function (e) { t.has(e.name) && t.set(e.name, e.response) })); let s = $("meta[name=user_token]").length ? { Authorization: "Bearer " + $("meta[name=user_token]").attr("content") } : {}; $.ajax({ url: this.form.attr("action"), method: this.form.attr("method"), headers: s, data: t, processData: !1, contentType: !1, success: this.onSuccessHandler, error: this.onErrorHandler }) } onSuccess(e) { this.onSuccessHandler = e } onError(e) { this.onErrorHandler = e } onFailedFileUpload(e) { this.onFailedFileUploadHandler = e } beforeFilesUpload(e) { this.beforeFilesUploadHandler = e } afterFileUpload(e) { this.afterFilesUploadHandler = e } } $((function () { $(document).on("submit", "[data-jsc=ajax-form], [data-jsc=ajax-form-onChange]", (function (e) { e.preventDefault(); let t = $(this); "replace" == t.data("after-success") && $(t.data("target")).css("opacity", .4); let s = new c(t); n.handleAjaxForm(s) })), $(document).on("change", "[data-jsc=ajax-form-onChange]", (function (e) { e.preventDefault(), $(this).trigger("submit") })) })); new class { constructor() { this.clearTooltips = () => { for (const e in this.trackedElements) { const t = document.body.querySelector(`tool-tip[uid="${e}"]`); t && t.isConnected && t.remove() } }, this.clickTooltip = e => { const t = e.target?.closest("[data-tooltip],[title]"); if (!(t instanceof HTMLElement) || null === t?.getAttribute("data-tooltip")) return; if (e instanceof KeyboardEvent && " " !== e.key) return; t.dataset.tooltipUid || (t.dataset.tooltipUid = this.uuid()); const s = document.body.querySelector(`tool-tip[uid="${t.dataset.tooltipUid}"]`); s && s?.remove() }, this.showTooltip = e => { const t = e.target; if (!(t instanceof HTMLElement) || null === t.getAttribute("data-tooltip") || "undefined" != typeof TouchEvent && e instanceof TouchEvent || e instanceof FocusEvent && 1 !== this.deviceType) return; let s = this.getTitle(t); if (!s || !s.length) return void console.warn("Tooltip could not be created -- missing aria-label, tooltip, or title attribute."); t.dataset.tooltipUid || (t.dataset.tooltipUid = this.uuid()); let a = document.body.querySelector("tool-tip") || document.createElement("tool-tip"); a.setAttribute("uid", t.dataset.tooltipUid), a.innerHTML = s, a.setAttribute("role", "tooltip"), a.style.position = "absolute", a.style.zIndex = "999999", a.style.opacity = "0", a.isConnected || document.body.appendChild(a), this.placeTooltip(t, a), a.classList.add("visible"), a.style.opacity = "1", t.dataset.tooltipUid in this.trackedElements || (this.trackedElements[t.dataset.tooltipUid] = null) }, this.hideTooltip = e => { const t = e.target; if (!(t instanceof HTMLElement && null !== t?.getAttribute("data-tooltip") && t?.dataset?.tooltipUid)) return; const s = document.body.querySelector(`tool-tip[uid="${t.dataset.tooltipUid}"]`); s && s.isConnected && s.remove() }, this.getTitle = e => { let t = e.getAttribute("data-tooltip"); return t && t.length || (t = e.getAttribute("aria-label")), t && t.length || (t = e.getAttribute("title")), t }, this.uuid = () => (Math.random() + 1).toString(36).substring(5), this.trackedElements = {}, this.deviceType = 1, document.addEventListener("mouseenter", this.showTooltip, { capture: !0, passive: !0 }), document.addEventListener("focus", this.showTooltip, { capture: !0, passive: !0 }), document.addEventListener("mouseleave", this.hideTooltip, { capture: !0, passive: !0 }), document.addEventListener("blur", this.hideTooltip, { capture: !0, passive: !0 }), document.addEventListener("click", this.clickTooltip, { capture: !0, passive: !0 }), document.addEventListener("keypress", this.clickTooltip, { capture: !0, passive: !0 }), document.addEventListener("touchstart", (() => { this.deviceType = 2 }), { capture: !0, passive: !0 }), document.addEventListener("mousemove", (() => { this.deviceType = 1 }), { capture: !0, passive: !0 }), window.addEventListener("scroll", this.clearTooltips, { capture: !0, passive: !0 }), window.addEventListener("resize", this.clearTooltips, { capture: !0, passive: !0 }), this.tick() } tick() { for (const e in this.trackedElements) { const t = document.body.querySelector(`[data-tooltip-uid="${e}"]`), s = document.body.querySelector(`tool-tip[uid="${e}"]`); if (null == t) delete this.trackedElements[e], s && s.isConnected && s.remove(); else if (null != s) { let e = this.getTitle(t); e !== s.innerHTML && (s.innerHTML = e, this.placeTooltip(t, s)) } } window.requestAnimationFrame(this.tick.bind(this)) } placeTooltip(e, t) { const s = e.getBoundingClientRect(), a = t.getBoundingClientRect(); let n = s.left + s.width / 2 - a.width / 2; if (n + a.width > window.innerWidth - 4) { n -= n + a.width - window.innerWidth + 4 } else n < 4 && (n = 4); let o = s.top + window.scrollY - (a.height + 3); t.style.top = `${o}px`, t.style.left = `${n}px` } }; const d = function (e) { return e.toLowerCase().replace(/[-,\,,|,?,*,&,%,(,),!,@,#,^,$,_,\s]{1,}/g, "-") }; $((function () { $(document).on("keyup", ".slugify, input[name=slug]", (function (e) { $(this).val(toEnNumber(d($(this).val()))) })), $(document).on("change", ".slugify, input[name=slug]", (function (e) { $(this).val($(this).val().replace(/^-+|-+$/gm, "")) })), $(".slugify, input[name=slug]").each((function (e, t) { $(t).val(d($(t).val())) })) })), $((function () { $(document).on("click", "[data-jsc=ajax-request]", (function (e) { e.preventDefault(), n.handleAjaxRequest($(this)) })), $(document).on("change", "[data-jsc=ajax-request-onChange]", (function (e) { e.preventDefault(), n.handleAjaxRequest($(this)) })), $(document).on("keyup", "[data-jsc=ajax-request-onkeyup]", (function (e) { e.preventDefault(), n.handleAjaxRequest($(this)) })) })), $((function () { $(document).on("click", ".theme-switcher", (function () { let e, t = $(this); t.hasClass("si-moon-r") ? (e = "dark", t.removeClass("si-moon-r").addClass("si-sun-r")) : (e = "light", t.removeClass("si-sun-r").addClass("si-moon-r")), setCookie("themeMode", e, (new Date).getTime() + 31536e7, "/"), location.reload() })) })), $((function () { $(document).on("click", ".accordions .accordion .label", (function () { let e = $(this); e.closest(".accordion").toggleClass("expanded"), $(".accordions .accordion").not(e.closest(".accordion")).removeClass("expanded") })), $(document).on("click", ".classic-accordions .classic-accordion .header", (function () { let e = $(this); e.closest(".classic-accordion").toggleClass("expanded"), $(".classic-accordions .classic-accordion").not(e.closest(".classic-accordion")).removeClass("expanded") })) })), $((function () { $(document).on("click", "[data-jsc=gallery]", (function (e) { let t = $(this); if ($(e.target).is(".thumbnails .item img")) { let s = $(e.target); o.changeScreen(t, s) } if ($(e.target).is(".control .prev")) { let e = t.find(".thumbnails .item.active").prev().find("img"); 0 == e.length && (e = t.find(".thumbnails .item:last-of-type img")), o.changeScreen(t, e) } if ($(e.target).is(".control .next")) { let e = t.find(".thumbnails .item.active").next().find("img"); 0 == e.length && (e = t.find(".thumbnails .item:first-of-type img")), o.changeScreen(t, e) } })), $("[data-jsc=gallery] .screen").removeClass("spinner-center") })), $((function () { $(document).on("click", "[data-jsc^=modal]", (function (e) { e.preventDefault(), e.stopPropagation(); let t = $(this), s = $("." + t.data("jsc")), a = t.data("modal"); n.closeAllModals(), s.fadeIn(200).css("display", "flex"), a && void 0 !== a.action && s.attr("action", a.action), a && void 0 !== a.header && s.find(".content-header").html(a.header), a && void 0 !== a.backurl && s.find("input[name=backurl]").val(a.backurl), a && void 0 !== a.message && s.find(".content").html(a.message), a && void 0 !== a.btn && s.find("button").html(a.btn) })), $(document).on("open-modal", ".modal", (function (e) { n.closeAllModals(), $(this).css("display", "flex") })), $(document).on("click", ".modal .close", (function () { n.closeAllModals() })), $(document).on("keydown", (function (e) { "Escape" === e.key && n.closeAllModals() })) })), $((function () { $(document).on("click", "[data-jsc=edit]", (function (e) { e.preventDefault(); let t = $(this).closest(".content-box"); t.addClass("d-none"), t.next(".edit-box").removeClass("d-none") })), $(document).on("click", "[data-jsc=close-edit]", (function (e) { e.preventDefault(); let t = $(this).closest(".edit-box"); t.addClass("d-none"), t.prev(".content-box").removeClass("d-none") })) })), $((function () { $(document).on("click", "[data-jsc=tabs] .item", (function (e) { e.preventDefault(); let t = $(this).closest("[data-jsc=tabs]"); $(this).parent().find("> .item").removeClass("active"), $(this).addClass("active"), t.find("> .tab-content").removeClass("active"), t.find("> .tab-content:eq(" + $(this).index() + ")").addClass("active") })) })), $((function () { $(document).on("click", "body", (function (e) { n.closeAllDropdown(), $(e.target).is(".modal") && n.closeNotStableModals() })), $(document).on("click", "[data-jsc=dropdown], .dropdown", (function (e) { e.stopPropagation(), $(this).toggleClass("show") })) })), $((function () { $("[data-jsc=countdown]").each((function (e, t) { let s = $(t); setInterval((function () { let e = parseInt(s.text()); e <= 0 ? s.text(0) : s.text(e - 1) }), 1e3) })) })), $((function () { $(document).on("click", ".list-row [data-jsc^=footer]", (function (e) { e.preventDefault(); let t = $(this); t.is(".active") ? Utils.closeAllFooters() : (Utils.closeAllFooters(), t.addClass("active").closest(".list-row").addClass("active").find("." + t.data("jsc")).show()) })) })), $((function () { $(document).on("click", "[data-jsc=copy]", (function (e) { e.stopPropagation(), e.preventDefault(); try { let e = $(this), t = e.attr("data-value"), s = document.createElement("input"); s.value = t, document.body.append(s), s.select(), document.execCommand("copy"), s.remove(), e.addClass("text-success"), setTimeout((function () { e.removeClass("text-success") }), 1e3) } catch (e) { console.log(e) } })) })), $((function () { $(document).on("click", ".nestable-collapse-toggle", (function (e) { let t = $(this); ($(e.target).hasClass("row-icon") || $(e.target).is("input") || $(e.target).is("label")) && !$(e.target).hasClass("si-arrow-bottom-circle") || (t.toggleClass("active").closest(".nestable").children(".nestable").toggleClass("active"), t.closest(".nestable").toggleClass("active-nestable")) })) })), $ = window.jQuery || window.$, window.toFaNumber = t, window.toEnNumber = e, window.Utils = n, window.GalleryUtils = o, window.toggleClass = function (e, t, s) { e = $(e), "self" === t ? e.toggleClass(s) : t.includes("closest") ? (t = t.replace("closest", ""), e.closest(t).toggleClass(s)) : $(t).toggleClass(s) }, window.setQueryParam = function (e, t, s) { let a = new URL(e); return "" == s ? a.searchParams.delete(t) : a.searchParams.set(t, s), a.href } }();
